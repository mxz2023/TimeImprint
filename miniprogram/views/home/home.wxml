<!--views/home.wxml-->
<view class="view-content">
  <!-- å¯¼èˆªï¼Œç”±äºScrollæ»šåŠ¨åµŒå¥—åŸå› ï¼Œæš‚æ—¶å»æ‰å¯¼èˆªæ æ•ˆæœ -->
  <!-- <t-navbar style="opacity: {{opacity}}" title="{{title}}">
  </t-navbar> -->

  <!-- å†…å®¹åŒºåŸŸ ç”±äºScrollæ»šåŠ¨åµŒå¥—åŸå› ï¼Œæš‚æ—¶å»æ‰å¯¼èˆªæ æ•ˆæœ-->
  <view class="header-logo" id="header-logo" style="opacity: {{1-opacity}}">
    <image class="header-logo-image" src="{{titleImage}}" mode="aspectFit" />
  </view>

  <view class="details" id="details">
    <!-- æ—¥æœŸè¯¦ç»†ä¿¡æ¯ -->
    <view class="view-header">
      <view class="view-header-date">
        <text class="text-header-date">{{currentDay.title1}}</text>
        <!-- <text class="text-header-date-sub">{{currentDay.title4}}</text> -->
      </view>
      <view class="view-header-detail">
        <view class="view-header-detail-top">
          <text class="text-header-detail1">{{currentDay.title5}}</text>
          <text class="text-header-detail2">{{currentDay.title2}}</text>
        </view>
        <view class="view-header-detail-bottom">
          <!-- å»æ‰æ‰‹åŠ¨åˆ‡æ¢åŠŸèƒ½ -->
          <!-- <t-icon class="view-iconBtn" id='forwardIcon' name="{{forwardIcon}}" data-name="{{forwardIcon}}" bind:click="onIconTap" />
          <t-icon class="view-iconBtn" id='backwardsIcon' name="{{backwardsIcon}}" data-name="{{backwardsIcon}}" bind:click="onIconTap" /> -->

          <view class="view-today" wx:if="{{needShowToday}}" bind:tap="onLocationToday">
            <text class="text-today">ä»Š</text>
          </view>

          <!-- æ—¥æœŸé€‰æ‹©å™¨ -->
          <picker class="view-header-opt" mode="date" value="{{currentMonth.resFormat}}" fields="month" start="1900-01-01" end="2100-12-31" data-day="{{currentDay.title1}}" bindchange="onPickerDateChange">
            <text class="text-header-opt-bottom">{{currentMonth.res}}</text>
          </picker>

          <!-- ç”±äºæš‚ä¸æ”¯æŒskylineï¼Œç»§ç»­ä½¿ç”¨ç³»ç»Ÿ -->
          <!-- <m-date-picker class="view-option"></m-date-picker> -->

        </view>
      </view>
    </view>
  </view>

  <scroll-view class="scrollarea" scroll-y="true" type="list" enable-back-to-top="true">
    <!-- ä¸»æ—¥å† -->
    <view class="view-calendar">
      <m-calendar viewStyle="2" gridListMonth="{{ gridListMonth }}" bind:updateCurrentDay="onUpdateCurrentDay" bind:updateMonth="onUpdateMonth"></m-calendar>
    </view>

    <!-- æœ€è¿‘æ‰“å¡ -->
    <view class="view-last-task">
      <text class="text-last-task">æœ€è¿‘ä¸€æ¬¡æ‰“å¡ ğŸ“Œ</text>
    </view>

    <view wx:if="{{eventList.length > 0}}">
      <view class="view-item" bind:tap="onOpenEventDetail" data-task-index="{{idx}}" wx:for="{{ eventList }}" wx:key="index" wx:for-index="idx" wx:for-item="item">
        <view class="view-part">
          <text class="text-title">{{item.title}}</text>
          <view class="view-part-sub" wx:if="{{item.total > 0}}">
            <text class="text-total-tips">{{item.total > 1 ? "ç´¯è®¡æ‰“å¡" : "æ‰“å¡ç¬¬"}}</text>
            <text class="text-total">{{item.total}}</text>
            <text class="text-total-tips">å¤©</text>
          </view>
        </view>
        <view class="view-part">
          <text class="text-type">ABCDE</text>
          <text class="text-time">{{item.date}}</text>
        </view>
      </view>
    </view>
    <view class="view-item-no-data" wx:else>
      <image src="../../static/welcome_icon.png" style="opacity: 0.1; height: 100%;" mode="aspectFit" />
      <text class="text-no-data">æš‚æ— è®°å½•ï¼Œå»æ‰“ä¸€æ¬¡å¡å§</text>
    </view>

  </scroll-view>

  <!-- å‘å¸ƒæŒ‰é’® -->
  <image class="view-record" src="../../static/btn/btn-fabu.png" bind:tap="onPublishAction"></image>
</view>